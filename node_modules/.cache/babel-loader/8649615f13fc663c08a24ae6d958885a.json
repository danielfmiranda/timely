{"ast":null,"code":"var _jsxFileName = \"/Users/danielmiranda/PycharmProjects/timely/src/components/LogInPage.jsx\";\nimport React, { Component } from 'react';\nimport '../css/LogInPage.css';\nimport NavBar from \"./NavBar\";\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nconst BASE_API_URL = process.env.REACT_APP_BASE_URL;\n\nclass LogInPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handle_login = (e, data) => {\n      e.preventDefault();\n      axios.post(`${BASE_API_URL}auth-get-token/`, {\n        username: data.username,\n        password: data.password\n      }).then(response => {\n        let logInResponse = response.data;\n        localStorage.setItem('token', logInResponse.token);\n        console.log(logInResponse);\n        this.setState({\n          logged_in: true\n        });\n        this.props.history.push(\"/home\");\n      }).catch(error => {\n        localStorage.removeItem('token');\n        console.log(error);\n        this.setState({\n          error: true\n        });\n      });\n    };\n\n    this.handle_change = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState(prevstate => {\n        const newState = { ...prevstate\n        };\n        newState[name] = value;\n        return newState;\n      });\n    };\n\n    this.state = {\n      value: '',\n      username: '',\n      password: '',\n      api: 'http://localhost:8000/'\n    };\n  }\n\n  componentDidMount() {\n    localStorage.removeItem('token');\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    console.log(`Email: ${this.state.email}`);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      logged_in: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Card, {\n      className: \"logInFormCard\",\n      bg: \"dark\",\n      text: \"white\",\n      style: {\n        width: '50%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \" Welcome to Timely! \")), React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Please log in:\"), React.createElement(\"div\", {\n      className: \"logInForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: e => this.handle_login(e, this.state),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Username\"), React.createElement(Form.Control, {\n      placeholder: \"Enter username\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handle_change,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Submit\"))))));\n  }\n\n}\n\nexport default withRouter(LogInPage);","map":{"version":3,"sources":["/Users/danielmiranda/PycharmProjects/timely/src/components/LogInPage.jsx"],"names":["React","Component","NavBar","Card","Form","Button","axios","withRouter","BASE_API_URL","process","env","REACT_APP_BASE_URL","LogInPage","constructor","props","handle_login","e","data","preventDefault","post","username","password","then","response","logInResponse","localStorage","setItem","token","console","log","setState","logged_in","history","push","catch","error","removeItem","handle_change","name","target","value","prevstate","newState","state","api","componentDidMount","submitForm","email","render","width"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport '../css/LogInPage.css';\nimport NavBar from \"./NavBar\";\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport axios from \"axios\";\nimport {withRouter} from \"react-router-dom\";\n\n\nconst BASE_API_URL = process.env.REACT_APP_BASE_URL;\n\n\n\n\nclass LogInPage extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            value: '',\n            username: '',\n            password: '',\n            api: 'http://localhost:8000/'\n        }\n\n    }\n\n    componentDidMount() {\n        localStorage.removeItem('token');\n    }\n\n    handle_login = (e, data) => {\n        e.preventDefault();\n        axios.post(`${BASE_API_URL}auth-get-token/`, {\n            username: data.username,\n            password: data.password\n        })\n            .then((response) => {\n                let logInResponse = response.data\n                localStorage.setItem('token', logInResponse.token)\n                console.log(logInResponse);\n                this.setState({\n                    logged_in: true,\n                })\n                this.props.history.push(\"/home\");\n            })\n            .catch((error) => {\n                localStorage.removeItem('token');\n                console.log(error);\n                this.setState(\n                    {error: true}\n                )\n            });\n    };\n\n\n    handle_change = e => {\n        const name = e.target.name;\n        const value = e.target.value;\n        this.setState(prevstate => {\n            const newState = {...prevstate};\n            newState[name] = value;\n            return newState;\n        });\n    };\n\n\n    submitForm(e) {\n        e.preventDefault();\n        console.log(`Email: ${this.state.email}`)\n    }\n\n\n    render() {\n        return (\n            <div>\n                <NavBar logged_in={false}/>\n                <Card className=\"logInFormCard\" bg=\"dark\" text=\"white\" style={{width: '50%'}}>\n\n                    <Card.Header>\n\n                        <h1> Welcome to Timely! </h1>\n                    </Card.Header>\n\n                    <Card.Body>\n                        <Card.Text>\n                            Please log in:\n                        </Card.Text>\n                        <div className={\"logInForm\"}>\n                            <Form onSubmit={e => this.handle_login(e, this.state)}>\n                                <Form.Group>\n                                    <Form.Label>Username</Form.Label>\n                                    <Form.Control placeholder=\"Enter username\" name=\"username\"\n                                                  value={this.state.username}\n                                                  onChange={this.handle_change}\n                                    />\n                                </Form.Group>\n\n                                <Form.Group controlId=\"formBasicPassword\">\n                                    <Form.Label>Password</Form.Label>\n                                    <Form.Control type=\"password\" placeholder=\"Password\" name=\"password\"\n                                                  value={this.state.password} onChange={this.handle_change}\n                                    />\n                                </Form.Group>\n                                <Button variant=\"primary\" type=\"submit\">\n                                    Submit\n                                </Button>\n                            </Form>\n                        </div>\n                    </Card.Body>\n                </Card>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(LogInPage);"]},"metadata":{},"sourceType":"module"}