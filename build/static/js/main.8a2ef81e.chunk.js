(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(37),r=a.n(o),c=(a(72),a(6)),i=a(7),s=a(9),m=a(8),u=a(10),h=(a(42),a(30)),d=a(25),g=a(66),p=(a(73),a(46)),f=a(65),E=a(28),_=a(14),y=(a(64),a(80),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).logOutButtonClick=function(e){a.props.history.push("/")},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(p.a,{bg:"dark",variant:"dark",expand:"lg"},l.a.createElement(E.LinkContainer,{to:"/home"},l.a.createElement(p.a.Brand,null,"Timely")),l.a.createElement(f.a,{className:"mr-auto"}),null,1==this.props.logged_in?l.a.createElement(_.a,{onClick:this.logOutButtonClick,variant:"outline-primary",size:"sm"},"Log Out"):null))}}]),t}(n.Component)),v=Object(d.o)(y),k=a(5),b=a(27),O=a(11),j=a.n(O),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handle_login=function(e,t){e.preventDefault(),j.a.post("".concat("http://localhost:8000/","auth-get-token/"),{username:t.username,password:t.password}).then((function(e){var t=e.data;localStorage.setItem("token",t.token),console.log(t),a.setState({logged_in:!0}),a.props.history.push("/home")})).catch((function(e){localStorage.removeItem("token"),console.log(e),a.setState({error:!0})}))},a.handle_change=function(e){var t=e.target.name,n=e.target.value;a.setState((function(e){var a=Object(g.a)({},e);return a[t]=n,a}))},a.state={value:"",username:"",password:"",api:"http://localhost:8000/"},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){localStorage.removeItem("token")}},{key:"submitForm",value:function(e){e.preventDefault(),console.log("Email: ".concat(this.state.email))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(v,{logged_in:!1}),l.a.createElement(k.a,{className:"logInFormCard",bg:"dark",text:"white",style:{width:"50%"}},l.a.createElement(k.a.Header,null,l.a.createElement("h1",null," Welcome to Timely! ")),l.a.createElement(k.a.Body,null,l.a.createElement(k.a.Text,null,"Please log in:"),l.a.createElement("div",{className:"logInForm"},l.a.createElement(b.a,{onSubmit:function(t){return e.handle_login(t,e.state)}},l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Label,null,"Username"),l.a.createElement(b.a.Control,{placeholder:"Enter username",name:"username",value:this.state.username,onChange:this.handle_change})),l.a.createElement(b.a.Group,{controlId:"formBasicPassword"},l.a.createElement(b.a.Label,null,"Password"),l.a.createElement(b.a.Control,{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handle_change})),l.a.createElement(_.a,{variant:"primary",type:"submit"},"Submit"))))))}}]),t}(n.Component),I=Object(d.o)(C),N=(a(60),a(22)),B=a(21),S=a.n(B),w=a(29),D=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).getUserInfo=function(){j.a.get("".concat("http://localhost:8000/","timely_backend/current_user/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;n.setState({first_name:t.first_name,profile_id:t.id,is_loading:!1})})).finally((function(){n.getProfileInfo()}))},n.getProfileInfo=function(){j.a.get("".concat("http://localhost:8000/","api/employees/").concat(n.state.profile_id,"/"),{params:{}}).then((function(e){var t=e.data;n.setState({profile:t})})).catch((function(e){console.log(e)})).finally((function(){n.setState({is_loading:!1})}))},n.clockIn=function(){var e=a(33)().format("YYYY-MM-DD");console.log(e);var t={date:e,late:!1,employee:n.state.profile_id};console.log(t),j.a.post("".concat("http://localhost:8000/","api/time_entries/"),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e),n.setState({latest_time_entry_id:e.data.time_entry_id})})).finally((function(e){var t={clocked_in:!0,current_shift:n.state.latest_time_entry_id};j.a.patch("".concat("http://localhost:8000/","api/employees/").concat(n.state.profile_id,"/"),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e),n.getProfileInfo()})).catch((function(e){console.log(e),console.log(e.response)}))}))},n.clockOut=function(){var e=a(33)();console.log(e);var t={clock_out:e};j.a.patch("".concat("http://localhost:8000/","api/time_entries/").concat(n.state.profile.current_shift,"/"),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e)})).finally((function(e){var t={clocked_in:!1,current_shift:n.state.latest_time_entry_id};j.a.patch("".concat("http://localhost:8000/","api/employees/").concat(n.state.profile_id,"/"),t,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e),n.getProfileInfo()})).catch((function(e){console.log(e),console.log(e.response)}))}))},n.state={api:"http://localhost:8000/",logged_in:!!localStorage.getItem("token"),profile:{time_entries:[""]}};a(33);return n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){!0===this.state.logged_in?this.getUserInfo():this.setState({is_loading:!1})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(v,{logged_in:this.state.logged_in}),!0===this.state.logged_in?l.a.createElement(k.a,{className:"logInFormCard",bg:"dark",text:"white",style:{width:"50%"}},l.a.createElement(k.a.Header,null,l.a.createElement("h3",null," Welcome to Timely, ",this.state.first_name,"! ")),l.a.createElement(k.a.Body,null,l.a.createElement(k.a.Text,null,"Please select what you would like to do:"),l.a.createElement("div",{className:"timeEntryButtons"},l.a.createElement("div",{className:"timeEntryButtonsContainer"},1==this.state.profile.clocked_in?l.a.createElement(_.a,{variant:"primary",size:"lg",disabled:!0},"Clocked In"):l.a.createElement(_.a,{onClick:this.clockIn,className:"timeEntryButton",variant:"primary",size:"lg"},"Clock In"),l.a.createElement(_.a,{onClick:this.clockOut,className:"timeEntryButton",variant:"secondary",size:"lg"},"Clock Out"))),l.a.createElement("div",{className:"previousShifts"},l.a.createElement("h1",null," Previous Shifts: "),l.a.createElement(N.a,{className:"timeEntryAccordion"},this.state.profile.time_entries.map((function(t){var a=t.date,n=t.clock_in,o=t.clock_out,r=t.late,c=t.time_entry_id;return l.a.createElement(k.a,null,l.a.createElement(N.a.Toggle,{date:a,clock_in:n,clock_out:o,late:r,time_entry_id:c,as:k.a.Header,eventKey:c},l.a.createElement(S.a,{format:"MM/DD/YYYY"},a)),l.a.createElement(N.a.Collapse,{eventKey:c},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"timeEntryDetailContainer"},l.a.createElement("div",{className:"clockIn timeEntryDetail"},l.a.createElement("h6",null,l.a.createElement("b",null," Clock In:")),l.a.createElement(S.a,{format:"hh:mm A"},n)),l.a.createElement("div",{className:"clockOut timeEntryDetail"},l.a.createElement("h6",null,l.a.createElement("b",null," Clock Out:")),null==o?l.a.createElement("p",null," Pending "):l.a.createElement(S.a,{format:"hh:mm A"},o)),l.a.createElement("div",{className:"late timeEntryDetail"},1=="".concat(e.props.late)?l.a.createElement("div",{className:"alertContainer"},l.a.createElement(w.a,{className:"lateAlert",variant:"danger"},"Late")):l.a.createElement("div",{className:"alertContainer"},l.a.createElement(w.a,{className:"lateAlert",variant:"info"},"On Time")))))))})))))):l.a.createElement(k.a,{className:"logInFormCard",bg:"dark",text:"white",style:{width:"50%"}},l.a.createElement(k.a.Header,null,"Log-In Required"),l.a.createElement(k.a.Body,null,l.a.createElement(k.a.Text,null,"You need to be logged-in to access this page."),l.a.createElement(E.LinkContainer,{to:"/"},l.a.createElement(_.a,{variant:"primary",type:"submit"},"Log In")))))}}]),t}(n.Component),A=(a(100),a(101),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"True"==this.props.is_super_user?null:l.a.createElement(E.LinkContainer,{className:"link",to:"/employee/".concat(this.props.employee_id)},l.a.createElement(k.a,{className:"employeeCard",bg:"light",style:{color:"black !important"}},l.a.createElement(k.a.Body,null,l.a.createElement("div",null,l.a.createElement("h4",null," ",this.props.first_name," ",this.props.last_name," "))))))}}]),t}(n.Component)),P=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getEmployeeInfo=function(){j.a.get("".concat("http://localhost:8000/","api/employees/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;a.setState({employeeData:t})})).finally((function(){console.log(a.state.employee)}))},a.state={api:"http://localhost:8000/",employeeData:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getEmployeeInfo()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(v,{logged_in:this.props.logged_in}),l.a.createElement(k.a,{className:"adminPanelCard",bg:"dark",text:"white",style:{width:"50%"}},l.a.createElement(k.a.Header,null," ",l.a.createElement("h2",null," Welcome to Timely Admin, ",this.props.first_name," ")),l.a.createElement(k.a.Body,null,l.a.createElement(k.a.Text,null,l.a.createElement("h3",null," Here is your team: "),l.a.createElement("h6",null," Please select someone to make changes ")),this.state.employeeData.map((function(e){var t=e.first_name,a=e.last_name,n=e.is_super_user,o=e.employee_id;return l.a.createElement(A,{employee_id:o,first_name:t,last_name:a,is_super_user:n})})))))}}]),t}(n.Component),T=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).getUserInfo=function(){j.a.get("".concat("http://localhost:8000/","timely_backend/current_user/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){var t=e.data;n.setState({first_name:t.first_name,profile_id:t.id,is_loading:!1,is_super_user:t.is_superuser})})).finally((function(){n.getProfileInfo()}))},n.getProfileInfo=function(){j.a.get("".concat("http://localhost:8000/","api/employees/").concat(n.state.profile_id,"/"),{params:{}}).then((function(e){var t=e.data;n.setState({profile:t})})).catch((function(e){console.log(e)})).finally((function(){n.setState({is_loading:!1})}))},n.state={api:"http://localhost:8000/",logged_in:!!localStorage.getItem("token"),profile:{time_entries:[""]}};a(33);return n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){!0===this.state.logged_in?this.getUserInfo():this.setState({is_loading:!1})}},{key:"render",value:function(){return l.a.createElement("div",null,1==this.state.is_super_user?l.a.createElement(P,{logged_in:this.state.logged_in,first_name:this.state.first_name}):l.a.createElement(D,{logged_in:this.state.logged_in}))}}]),t}(n.Component),x=(a(102),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).hello=function(){console.log("HELLO")},a.deleteTimeEntry=function(e){console.log(e);var t=JSON.stringify(e);console.log("DELETING"),j.a.delete("".concat("http://localhost:8000/","api/time_entries/").concat(t,"/"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){console.log(e),a.getProfileInfo()}))},a.getProfileInfo=function(){var e=a.props.match.params.id;j.a.get("".concat("http://localhost:8000/","api/employees/").concat(e,"/"),{params:{}}).then((function(e){console.log(e);var t=e.data;a.setState({profile:t})})).catch((function(e){console.log(e)})).finally((function(){a.setState({is_loading:!1})}))},a.goBack=function(){a.props.history.push("/home")},a.state={logged_in:!!localStorage.getItem("token"),api:"http://localhost:8000/",profile:{time_entries:[""]}},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getProfileInfo()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(v,{logged_in:this.state.logged_in}),l.a.createElement(k.a,{className:"logInFormCard",bg:"dark",text:"white",style:{width:"50%"}},l.a.createElement(k.a.Header,null,l.a.createElement("h3",null," Employee Details for: ",l.a.createElement("h1",null,l.a.createElement("b",null,this.state.profile.first_name," ",this.state.profile.last_name," ")))),l.a.createElement(k.a.Body,null,l.a.createElement(k.a.Text,null,l.a.createElement("h4",null," Please select a time entry to edit: ")),l.a.createElement(N.a,{className:"timeEntryAccordion"},this.state.profile.time_entries.map((function(t){var a=t.date,n=t.clock_in,o=t.clock_out,r=t.late,c=t.time_entry_id;return l.a.createElement(k.a,null,l.a.createElement(N.a.Toggle,{date:a,clock_in:n,clock_out:o,late:r,time_entry_id:c,as:k.a.Header,eventKey:c},l.a.createElement(S.a,{format:"MM/DD/YYYY"},a)),l.a.createElement(N.a.Collapse,{eventKey:c},l.a.createElement(k.a.Body,null,l.a.createElement("div",{className:"timeEntryDetailContainer"},l.a.createElement("div",{className:"clockIn timeEntryDetail"},l.a.createElement("h6",null,l.a.createElement("b",null," Clock In:")),l.a.createElement(S.a,{format:"hh:mm A"},n)),l.a.createElement("div",{onClick:e.hello,className:"clockOut timeEntryDetail"},l.a.createElement("h6",null,l.a.createElement("b",null," Clock Out:")),null==o?l.a.createElement("p",null," Pending "):l.a.createElement(S.a,{format:"hh:mm A"},o)),l.a.createElement("div",{className:"late timeEntryDetail"},1=="".concat(e.props.late)?l.a.createElement("div",{className:"alertContainer"},l.a.createElement(w.a,{className:"lateAlert",variant:"danger"},"Late")):l.a.createElement("div",{className:"alertContainer"},l.a.createElement(w.a,{className:"lateAlert",variant:"info"},"On Time"))),l.a.createElement("div",{className:"deleteButtonContainer"},l.a.createElement(_.a,{onClick:function(t){return e.deleteTimeEntry(c)},className:"deleteButton",variant:"danger"},l.a.createElement("b",null,"x")))))))}))),l.a.createElement("div",{className:"goBackButtonContainer"},l.a.createElement(_.a,{onClick:this.goBack,className:"goBackButton",variant:"primary"},"Go Back")))))}}]),t}(n.Component)),L=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(m.a)(t).call(this))).state={logged_in:!!localStorage.getItem("token"),is_loading:!0,api:"http://localhost:8000/"},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(h.BrowserRouter,null,l.a.createElement(d.d,{exact:!0,path:"/",render:function(t){return l.a.createElement(I,{handle_login:e.handle_login})}}),l.a.createElement(d.d,{path:"/home/",render:function(t){return l.a.createElement(T,{logged_in:e.state.logged_in})}}),l.a.createElement(d.d,{path:"/employee/:id",component:x})))}}]),t}(n.Component),Y=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(L,null)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,a){},67:function(e,t,a){e.exports=a(103)},72:function(e,t,a){},73:function(e,t,a){},80:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.8a2ef81e.chunk.js.map